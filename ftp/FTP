#Container file to create and run ftp server within MTE-VOD environment
FROM registry.access.redhat.com/rhel8/toolbox
#installing ssh session manager
RUN dnf install -y vsftpd && dnf install -y openssh-server
RUN mkdir /var/run/sshd

USER root

#Copying sshd config to host container
COPY vsftpd.conf ftpusers user_list /etc/vsftpd 
COPY ftp.sh /

#exposing ports
EXPOSE 22

#change directory for script
WORKDIR /

#Starting conitainer services
ENTRYPOINT ["/ftp.sh"]
